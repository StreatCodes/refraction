<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="description" content="Refraction is a simple lightweight 2KB CSS library.">
	<link rel="manifest" href="/manifest.json">
	<title>Refraction</title>

	<link rel="stylesheet" href="/prism.css">
	<link rel="stylesheet" href="/dist/bundle.css">
	<style>
		main {
			margin: 0 auto;
			width: 800px;
			padding: 20px;
		}

		pre[class*="language-"] {
			display: block;
			max-width: 100%;
			margin: 0 0 20px;
		}

		.sample-cell {
			background-color: #0076ad;
			padding: 15px;
			border-radius: 2px;
			color: white;
			text-align: center;
		}

		h2[id]::before, h3[id]::before, h4[id]::before {
			display: block;
			height: 130px;
			margin-top: -130px;
			visibility: hidden;
			content: "";
		}

		@media(max-width: 900px) {
			header > h1 {
				letter-spacing: 20px;
			}
		}

		@media(max-width: 720px) {
			header {
				padding: 40px 0;
			}
			header > h1 {
				letter-spacing: 10px;
				font-size: 66px;
			}
		}

		@media(max-width: 560px) {
			header {
				padding: 40px 0 20px;
			}
			header > h1 {
				letter-spacing: 5px;
				font-size: 50px;
			}
		}

		@media(max-width: 400px) {
			header > h1 {
				letter-spacing: normal;
				font-size: 36px;
			}
		}
	</style>
	<script src="/helper.js" async></script>
	<script src="/prism.js" asnyc></script>
</head>

<body>
	<nav id="nav">
		<div class="nav-wrap">
			<div class="left">
			</div>
			<div class="right">
				<a id="spy">Top</a>
				<div class="sub-menu">
					<a class="smooth-scroll" href="#about">About</a>
					<a class="smooth-scroll" href="#grid">Grid</a>
					<a class="smooth-scroll" href="#forms">Forms</a>
					<a class="smooth-scroll" href="#tables">Tables</a>
					<a class="smooth-scroll" href="#navigation">Navigation</a>
					<a class="smooth-scroll" href="#modals">Modals</a>
					<a class="smooth-scroll" href="#variables">Variables</a>
					<a class="smooth-scroll" href="#code">Code</a>
					<a class="smooth-scroll" href="#javascript">Javascript</a>
				</div>
			</div>
		</div>
	</nav>
	<header spy="Top">
		<h1>Refraction</h1>
	</header>
	<main>
		<h2 spy="About" id="about">About</h2>
		<p>Refraction is a simple lightweight CSS library. It's tiny in size, clocking at about 2KB once gzipped. Refraction is meant to serve as a starting point for new modern projects, speeding up some of the initial process of styling a site without having to import 100KB of CSS and JS which quickly goes up once you start over-riding styles.</p>
		<p>Not only is Bootstrap's css excessive, the corresponding markup is verbose too. We've kept the markup simple, just write normal html and you'll get a modern output.</p>
		<p>Keeping the file size small also keeps the library simple. We encourage you to clone the refraction repository and start using the modern build system we have setup. The first thing you'll want to do is modify the <code>vars.css</code> file and update the colors to reflect your projects style.</p>

		<hr />
		
		<h2 spy="Grid" id="grid">Grid</h2>
		<p>The grid is a sample grid from mdn which replciates a standard 12 column box/flex grid.</p>
		<div class="grid">
			<div class="span5 sample-cell">Span 5</div>
			<div class="span7 sample-cell">Span 7</div>
		</div>
		<div class="grid">
			<div class="span2 sample-cell">Span 2</div>
			<div class="span7 sample-cell">Span 7</div>
			<div class="span3 sample-cell">Span 3</div>

			<div class="span3 sample-cell">Span 3</div>
			<div class="span3 sample-cell">Span 3</div>
			<div class="span3 sample-cell">Span 3</div>
			<div class="span3 sample-cell">Span 3</div>
		</div>
		<pre><code class="language-html">
			<script type="prism-html-markup">
				<div class="grid">
					<div class="span5 sample-cell">Span 5</div>
					<div class="span7 sample-cell">Span 7</div>
				</div>
				<div class="grid">
					<div class="span2 sample-cell">Span 2</div>
					<div class="span7 sample-cell">Span 7</div>
					<div class="span3 sample-cell">Span 3</div>
		
					<div class="span3 sample-cell">Span 3</div>
					<div class="span3 sample-cell">Span 3</div>
					<div class="span3 sample-cell">Span 3</div>
					<div class="span3 sample-cell">Span 3</div>
				</div>
			</script>
		</code></pre>

		<hr />

		<h2 spy="Forms" id="forms">Forms</h2>
		<h3>
			<strong>Text fields</strong>
		</h3>
		<div class="grid">
			<div class="span4">
				<label>
					<span>Name</span>
					<input type="text" placeholder="Killa Streats">
				</label>
			</div>
			<div class="span4">
				<label>
					<span>Email</span>
					<input type="email" placeholder="streats@example.com">
				</label>
			</div>
			<div class="span4">
				<label>
					<span>Phone</span>
					<input type="tel" placeholder="+64 123 456 789">
				</label>
			</div>
			<div class="span4">
				<label>
					<span>Password</span>
					<input type="password" placeholder="s3cUr3BoiZ">
				</label>
			</div>
			<div class="span8">
				<label>
					<span>Describe yourself</span>
					<textarea placeholder="I'm a really cool guy"></textarea>
				</label>
			</div>
			<div class="span12">
				<pre><code class="language-html">
					<script type="prism-html-markup">
						<label>
							<span>A simple text input</span>
							<input type="text" placeholder="Cool text!">
						</label>
						<label>
							<span>A simple textarea</span>
							<textarea placeholder="Write me a poem!"></textarea>
						</label>
					</script>
				</code></pre>
			</div>
		</div>

		<h3>
			<strong>Checkboxs and radios</strong>
		</h3>
		<div class="grid">
			<div class="span6">
				<p>Which lagnuages are good?</p>
				<label>
					<input type="checkbox" checked>
					<span>Go</span>
				</label>
				<label>
					<input type="checkbox" checked>
					<span>Rust</span>
				</label>
				<label>
					<input type="checkbox">
					<span>Perl</span>
				</label>
				<label>
					<input type="checkbox" checked>
					<span>Javascript</span>
				</label>
				<label>
					<input type="checkbox">
					<span>Java</span>
				</label>
				<label>
					<input type="checkbox">
					<span>Python</span>
				</label>
			</div>
			<div class="span6">
				<p>What drink would you like?</p>
				<label>
					<input name="test" type="radio">
					<span>Tastes good and cheap</span>
				</label>
				<label>
					<input name="test" type="radio">
					<span>Tastes good and strong</span>
				</label>
				<label>
					<input name="test" type="radio">
					<span>Strong and cheap</span>
				</label>
			</div>
			<div class="span6">
				<pre><code class="language-html">
					<script type="prism-html-markup">
						<label>
							<input type="checkbox">
							<span>Check</span>
						</label>
						<label>
							<input type="checkbox">
							<span>Me</span>
						</label>
					</script>
				</code></pre>
			</div>
			<div class="span6">
				<pre><code class="language-html">
					<script type="prism-html-markup">
						<label>
							<input name="test" type="radio">
							<span>One</span>
						</label>
						<label>
							<input name="test" type="radio">
							<span>Way</span>
						</label>
					</script>
				</code></pre>
			</div>
		</div>

		<h3>
			<strong>Select boxs and buttons</strong>
		</h3>
		<div class="grid">
			<div class="span6">
				<label>
					<span>Select boxs</span>
					<select>
						<option>Refraction!</option>
						<option>Awesome!</option>
						<option>Amazing!</option>
						<option>Cool!</option>
					</select>
				</label>
			</div>
			<div class="span6">
				<label>
					<span>Buttons</span>
				</label>
				<button>Do something cool</button>
				<button>Wow!</button>
				<button type="submit">Submit</button>
			</div>

			<div class="span6">
				<pre><code class="language-html">
					<script type="prism-html-markup">
						<label>
							<span>Select boxs</span>
							<select>
								<option>Refraction!</option>
								<option>Awesome!</option>
								<option>Amazing!</option>
								<option>Cool!</option>
							</select>
						</label>
					</script>
				</code></pre>
			</div>
			<div class="span6">
				<pre><code class="language-html">
					<script type="prism-html-markup">
						<button>Do something cool</button>
						<button>Wow!</button>
						<button type="submit">Submit</button>
					</script>
				</code></pre>
			</div>
		</div>

		<hr />

		<h2 spy="Tables" id="tables">Tables</h2>
		<table>
			<thead>
				<tr>
					<th>Company</th>
					<th>Contact</th>
					<th>Country</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>Alfreds Futterkiste</td>
					<td>Maria Anders</td>
					<td>Germany</td>
				</tr>
				<tr>
					<td>Centro comercial Moctezuma</td>
					<td>Francisco Chang</td>
					<td>Mexico</td>
				</tr>
				<tr>
					<td>Ernst Handel</td>
					<td>Roland Mendel</td>
					<td>Austria</td>
				</tr>
				<tr>
					<td>Island Trading</td>
					<td>Helen Bennett</td>
					<td>UK</td>
				</tr>
				<tr>
					<td>Laughing Bacchus Winecellars</td>
					<td>Yoshi Tannamuri</td>
					<td>Canada</td>
				</tr>
				<tr>
					<td>Magazzini Alimentari Riuniti</td>
					<td>Giovanni Rovelli</td>
					<td>Italy</td>
				</tr>
			</tbody>
		</table>
		<p>Tables are just standard HTML</p>
		<pre><code class="language-html">
			<script type="prism-html-markup">
				<table>
					<thead>
						<tr>
							<th>Company</th>
							<th>Contact</th>
							<th>Country</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Alfreds Futterkiste</td>
							<td>Maria Anders</td>
							<td>Germany</td>
						</tr>
						<tr>
							<td>Centro comercial Moctezuma</td>
							<td>Francisco Chang</td>
							<td>Mexico</td>
						</tr>
					</tbody>
				</table>
			</script>
		</code></pre>

		<hr />
		
		<h2 spy="Navigation" id="navigation">Navigation</h2>
		
		<p>We've setup a basic sticky nav structure, but navigation tends to differ quite a bit depending on the site design so we encourage you use this code as a reference but to customise to your needs. Nav bars are the perfect candidates for flexbox so you should read up on it if you're not familiar.</p>

		<pre><code class="language-html">
			<script type="prism-html-markup">
				<nav id="nav">
					<div class="nav-wrap">
						<div class="left">
							<a href="javascript:void()">Cool link</a>
						</div>
						<div class="right">
							<a id="spy">Top</a>
							<div class="sub-menu">
								<a href="#about">About</a>
								<a href="#grid">Grid</a>
								<a href="#forms">Forms</a>
							</div>
						</div>
					</div>
				</nav>
			</script>
		</code></pre>

		<hr />

		<h2 spy="Modals" id="modals">Modals</h2>
		<p>Our example of using modals requires the helpler.js file to be included. However it is only one line to show the modal, and one event listener to hide it, so replicating this functionality in something liek react would be very easy.</p>
		<p>Once again the markup required to use modals is very straight forward. Simply include something to trigger the modal, like a button or an anchor tag, then include the 
		<code class="language-html"><script type="prism-html-markup"><div class="modal-wrap"></div></script></code> which creates the closeable backdrop, and the 
		<code class="language-html"><script type="prism-html-markup"><div class="modal"></div></script></code> for the actual modal.</p>

		<button onclick="toggleModal('example-modal')">Show modal!</button>

		<div class="modal-wrap" id="example-modal">
			<div class="modal">
				<h1>Modal</h1>
				<p>Just include normal HTML inside.</p>
			</div>
		</div>

		<pre><code class="language-html">
			<script type="prism-html-markup">
				<button onclick="toggleModal('example-modal')">Show modal!</button>
		
				<div class="modal-wrap" id="example-modal">
					<div class="modal">
						<h1>Modal</h1>
						<p>Just include normal HTML inside.</p>
					</div>
				</div>
			</script>
		</code></pre>

		<hr />

		<h2 spy="Variables" id="variables">Variables</h2>
		<p>You can modify the basic appearance of Refraction just by making changes to <code>vars.css</code>. We use native CSS variables that get parsed at build time with <code>postcss-css-variables</code> a PostCSS plugin. This way we can keep compatability with IE11. PostCSS is a powerful modern css tool that uses javascript plugins to transform CSS.</p>

		<hr />

		<h2 spy="Code" id="code">Code</h2>
		<p>Refraction doesn't include any code highlighting by default. This page uses Prism.js to highlight and style code. As code snippets are rarely included on traditional sites it's best to keep the libraries seperate to maintain a small codebase.</p>

		<hr />

		<h2 spy="Javascript" id="javascript">Javascript</h2>
		<p>You can accomplish alot with a few simple lines of modern javascript and you really don't need JQuery. Below is an overview of all the javascript that is used on this page. If you're going to be modifying the DOM then you should probably be using a frontend framework like VueJS or Preact (3KB version of React) but if you're doing basic stuff like the things done on this page then you can easily get away with some vanilla javascript.</p>
		<h3>Nav bar</h3>
		<p>The nav bar has two one liners to add or remove a class depending on whether the page is scrolled, it's pretty straight forward.</p>
		<pre><code class="language-javascript">
			window.addEventListener('scroll', () => {
				if (window.pageYOffset > 0) {
					document.getElementById('nav').classList.add('floating');
				} else {
					document.getElementById('nav').classList.remove('floating');
				}
			});
		</code></pre>

		<h3>Scroll spy</h3>
		<p>There is a bit more to Scroll spy as we're manually applying classes and updating text. First we're checking what section of the page we're up to based on any elements with the <code>spy</code> attribute. Then set the text in the nav bar and finally add the <code>active</code> class to the current item in the sub-menu.</p>
		<pre><code class="language-javascript">
			window.addEventListener('scroll', () => {
				let spies = document.querySelectorAll('[spy]');
				let currentSpied = null;

				for(let spy of spies) {
					if(spy.getBoundingClientRect().top - 100 < 0) {
						currentSpied = spy;
					} else {
						break;
					}
				}
				document.getElementById('spy').innerText = currentSpied.getAttribute('spy');

				let menuItems = document.querySelectorAll('.sub-menu > a');

				for(let item of menuItems) {
					if(item.getAttribute('href') === `#${currentSpied.id}`){
						item.classList.add('active');
					} else {
						item.classList.remove('active');
					}
				}
			});
		</code></pre>

		<h3>Modals</h3>
		<p>For the modal code, we've got a simple helper class to active (or potentially deactivating) a modal that we can include inline in our HTML onclick events. Then we've got a click event listener for the modal-wrap elements, which makes sure the backdrop is clicked and now the modal inside.</p>
		<pre><code class="language-javascript">
			function toggleModal(modalId) {
				document.getElementById(modalId).classList.toggle('active');
			}
			
			window.addEventListener('load', event => {
				const modalWraps = document.querySelectorAll('.modal-wrap');
			
				for(let wrap of modalWraps) {
					wrap.addEventListener('click', event => {
						if (event.target === wrap) {
							event.target.classList.toggle('active');
						}
					});
				}
			});
		</code></pre>
	</main>
	<footer>
		<i>That's all folks!</i>
	</footer>
</body>

</html>